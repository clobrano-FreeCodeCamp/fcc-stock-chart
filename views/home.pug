extends layout
block content
  .container
    if messages && messages.length
      .alert.alert-danger
        span= messages [0]

    if datasets && datasets.length
      canvas(id="canvas", width="250", height="100")
        script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js")
        script.
          var ctx = document.getElementById("canvas").getContext('2d');
          var myChart = new Chart (ctx, {
            type: 'line',
            data: {
              labels: [#{xvalues}],
              datasets: !{datasets}
            },
            options: {
              responsive: true,
              title:{
                display:true,
                text: '#{title}'
              },
              tooltips: {
                mode: 'index',
                intersect: true
              },
              scales: {
                xAxes: [{
                    display: false,
                    min: 0,
                }],
                yAxes: [{
                    display: true,
                }]
              }
            }
          });
      br
      .container
        .row
            each stock in stocks
              .col-md-2
                a.btn.btn-lg.btn-default(role="button", href="/remove/" + stock)
                  span.glyphicon.glyphicon-remove= stock
